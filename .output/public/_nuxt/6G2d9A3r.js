import{u as x,_ as w}from"./Db1QTBNy.js";import{i as y,j as k,r as _,k as b,c as n,a as t,l as C,m as g,v as L,p as o,q as h,s as P,F as B,h as F,o as r,x as H}from"./D6ShVLRJ.js";import{u as V}from"./D-6ZTlbv.js";import"./CXV68h5Y.js";const D={class:"container-std py-10 md:py-14"},N={class:"flex items-center justify-between gap-4"},j={class:"flex items-center gap-2"},q={key:0,class:"mt-10 text-white/60"},E={key:1,class:"mt-10 text-red-400"},M={key:2,class:"mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},S={key:3,class:"mt-10 text-white/60"},$=y({__name:"index",async setup(T){let d,u;V({title:"Products — Positivus"});const{data:p,pending:m,error:v}=([d,u]=k(()=>x("/api/products","$DaB8KTHaxh")),d=await d,u(),d),l=_(""),c=_("featured"),f=b(()=>{if(!p.value)return[];let a=[...p.value];if(l.value.trim()){const e=l.value.toLowerCase();a=a.filter(s=>s.name.toLowerCase().includes(e)||s.shortDesc.toLowerCase().includes(e))}return c.value==="low"?a.sort((e,s)=>e.price-s.price):c.value==="high"&&a.sort((e,s)=>s.price-e.price),a});return(a,e)=>{const s=w;return r(),n("main",D,[t("div",N,[e[3]||(e[3]=t("div",{class:"flex items-center gap-3"},[t("span",{class:"tag"},"Products"),t("p",{class:"text-sm text-white/60"},"Explore our latest gear")],-1)),t("div",j,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>h(l)?l.value=i:null),placeholder:"Search...",class:"bg-white/5 border border-white/10 rounded-xl2 px-4 py-2 outline-none focus:ring-2 focus:ring-accent"},null,512),[[L,o(l)]]),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=i=>h(c)?c.value=i:null),class:"bg-white/5 border border-white/10 rounded-xl2 px-3 py-2 outline-none focus:ring-2 focus:ring-accent"},[...e[2]||(e[2]=[t("option",{value:"featured"},"Featured",-1),t("option",{value:"low"},"Price: Low → High",-1),t("option",{value:"high"},"Price: High → Low",-1)])],512),[[P,o(c)]])])]),o(m)?(r(),n("div",q,"Loading products...")):o(v)?(r(),n("div",E," Failed to load products. ")):(r(),n("div",M,[(r(!0),n(B,null,F(o(f),i=>(r(),H(s,{key:i.id,product:i},null,8,["product"]))),128))])),!o(m)&&o(f).length===0?(r(),n("div",S," No products found. ")):C("",!0)])}}});export{$ as default};
