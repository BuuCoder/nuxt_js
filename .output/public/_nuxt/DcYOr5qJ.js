import{i as b,r as P,c as n,a as t,p as s,F as _,h as p,o,n as C,u as F,j as v,k as j,l as u,b as B,t as r,x as V}from"./D6ShVLRJ.js";import{u as y,_ as D}from"./Db1QTBNy.js";import{u as G}from"./D-6ZTlbv.js";import"./CXV68h5Y.js";const L={class:"grid gap-3"},N={class:"aspect-[4/3] w-full overflow-hidden rounded-xl2 card p-0"},A=["src"],I={class:"grid grid-cols-4 gap-3"},O=["onClick"],S=["src"],z=b({__name:"ProductGallery",props:{images:{}},setup(m){const i=m,c=P(0);return(w,g)=>(o(),n("div",L,[t("div",N,[t("img",{src:i.images[s(c)],class:"w-full h-full object-cover"},null,8,A)]),t("div",I,[(o(!0),n(_,null,p(i.images,(e,d)=>(o(),n("button",{key:d,onClick:h=>c.value=d,class:C(["rounded-xl2 overflow-hidden border",d===s(c)?"border-accent":"border-white/10"])},[t("img",{src:e,class:"w-full h-20 object-cover"},null,8,S)],10,O))),128))])]))}}),E=Object.assign(z,{__name:"ProductGallery"}),H={key:0,class:"container-std py-14"},R={key:1,class:"container-std py-14"},W={key:2,class:"container-std py-14"},X={key:3,class:"container-std py-10 md:py-14"},Y={class:"grid lg:grid-cols-2 gap-10"},Z={class:"text-3xl md:text-4xl font-extrabold"},q={class:"mt-3 text-white/70"},J={class:"mt-4 flex items-center gap-3"},K={class:"text-2xl font-extrabold"},M={key:0,class:"text-white/40 line-through"},Q={key:1,class:"ml-auto text-sm text-white/70"},T={class:"mt-8 card p-6"},U={class:"mt-4 grid sm:grid-cols-2 gap-3"},tt={class:"text-white/60"},st={class:"font-medium"},et={class:"mt-6"},ot={class:"mt-2 text-white/70 leading-relaxed"},nt={key:0,class:"mt-4 flex flex-wrap gap-2"},at={key:0,class:"mt-14"},it={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},_t=b({__name:"[slug]",async setup(m){let i,c;const g=F().params.slug,{data:e,pending:d,error:h}=([i,c]=v(()=>y(`/api/products/${g}`,"$wZOL5FWIVC")),i=await i,c(),i),{data:x}=([i,c]=v(()=>y("/api/products","$k8iIlpdlwX")),i=await i,c(),i);return G({title:j(()=>e.value?`${e.value.name} — Positivus`:"Product — Positivus")}),(lt,a)=>{const k=E,$=D;return s(d)?(o(),n("main",H,[...a[0]||(a[0]=[t("p",{class:"text-white/70"},"Loading product...",-1)])])):s(h)?(o(),n("main",R,[...a[1]||(a[1]=[t("p",{class:"text-red-400"},"Failed to load product.",-1)])])):s(e)?(o(),n("main",X,[t("div",Y,[B(k,{images:s(e).images},null,8,["images"]),t("section",null,[t("h1",Z,r(s(e).name),1),t("p",q,r(s(e).shortDesc),1),t("div",J,[t("div",K,"$"+r(s(e).price.toFixed(2)),1),s(e).oldPrice?(o(),n("div",M," $"+r(s(e).oldPrice.toFixed(2)),1)):u("",!0),s(e).rating?(o(),n("div",Q," ★ "+r(s(e).rating.toFixed(1)),1)):u("",!0)]),a[5]||(a[5]=t("div",{class:"mt-6 flex items-center gap-2"},[t("button",{class:"btn btn-primary flex-1"},"Add to cart"),t("button",{class:"btn btn-dark"},"Buy now")],-1)),t("div",T,[a[3]||(a[3]=t("h2",{class:"font-semibold"},"Specifications",-1)),t("div",U,[(o(!0),n(_,null,p(s(e).specs,(l,f)=>(o(),n("div",{key:f,class:"flex justify-between gap-4 border-b border-white/10 py-2"},[t("span",tt,r(f),1),t("span",st,r(l),1)]))),128))])]),t("div",et,[a[4]||(a[4]=t("h2",{class:"font-semibold"},"Description",-1)),t("p",ot,r(s(e).description),1),s(e).tags?.length?(o(),n("div",nt,[(o(!0),n(_,null,p(s(e).tags,l=>(o(),n("span",{key:l,class:"tag"},r(l),1))),128))])):u("",!0)])])]),s(x)?.length?(o(),n("section",at,[a[6]||(a[6]=t("h3",{class:"font-semibold mb-4"},"You may also like",-1)),t("div",it,[(o(!0),n(_,null,p(s(x)?.filter(l=>l.slug!==s(e)?.slug).slice(0,3),l=>(o(),V($,{key:l.id,product:l},null,8,["product"]))),128))])])):u("",!0)])):(o(),n("main",W,[...a[2]||(a[2]=[t("p",{class:"text-white/70"},"Product not found.",-1)])]))}}});export{_t as default};
